"use strict";(function(){var a=[/^\/[a-z]{3}\d{3}\/?$/i,/^\/download-(nightly|dev|beta)\/?$/,/^\/tips\/?$/,/^\/djmg\/?$/,/^\/sliver\/?$/,/^\/rogan\/?$/,/^\/farnam\/?$/,/^\/brain\/?$/,/^\/ltb\/?$/,/^\/fool\/?$/,/^\/take\/?$/,/^\/realvision\/?$/,/^\/strangeparts\/?$/,/^\/sysk\/?$/,/^\/twit\/?$/,/^\/tim\/?$/,/^\/built\/?$/,/^\/gmdl\/?$/,/^\/realvision\/?$/,/^\/burr\/?$/,/^\/strangeparts\/?$/,/^\/outerheaven\/?$/,/^\/gigz\/?$/,/^\/starsnipe\/?$/,/^\/disrupt\/?$/,/^\/stevemould\/?$/,/^\/de\/chip\/?$/,/^\/r\/[a-z]{3}\d{3}\/?$/i];function b(){return a.some(function(a){return a.test(location.pathname)})}function c(){var a="",b;if(window.URLSearchParams?(b=new URLSearchParams(location.search),a=b.get("ref")&&b.get("ref").match(/^([A-Za-z]{3}-?[0-9]{3})(?:\/|$)/)):a=location.search.match(/(?:\?|&)ref=([A-Za-z]{3}-?[0-9]{3})(?:\/|$|&)/),a)return a[1];if(/^\/[A-Za-z]{3}-?[0-9]{3}\/?$/.test(location.pathname))return location.pathname.substr(1)}function d(){if(location.search){var a=c();a&&(localStorage.setItem("ref",a.toUpperCase()),localStorage.setItem("refDate",Date.now()))}}function e(){localStorage.removeItem("ref"),localStorage.removeItem("refDate")}function f(a){return a&&(Date.now()-a)/864e5<=7}function g(){return{code:localStorage.getItem("ref"),date:localStorage.getItem("refDate")}}function h(){var a,c,d;b()||(a=g(),f(a.date)?(c=document.querySelectorAll(".download","[href^='//geo.itunes.apple.com/us/app/brave-web-browser']","[href^='https://play.google.com/store/apps/details?id=com.brave.browser']","[href^='https://laptop-updates.brave.com/download']"),d=is_iOS()?"https://laptop-updates.brave.com/download/ios/".concat(a.code):"https://laptop-updates.brave.com/download/".concat(a.code),forEach(c,function(a){a.href=d})):e())}window.addEventListener("DOMContentLoaded",function(){d(),h()})})()